<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Vue IP</title>
    <style>
        @import url('https://fonts.googleapis.com/css?family=Roboto');
        body {
            background-color: gray;
            margin-top: 20px;
            font-family: 'Roboto', sans-serif;
        }
        .left {
            margin-top: 100px;
        }
    </style>
</head>
<body>
<div id="app">

    <vue-ip :on-change="ipChange" placeholder="â€¢" :ip="ip" :port="port" theme="material">IP Address</vue-ip>

    <div class="left">
        <h5>IP: {{ ip }}</h5>
        <h5 v-show="port">PORT: {{ port }}</h5>
        <h5>VALID: {{ valid }}</h5>
    </div>

    <button @click="changeIp">Change IP</button>

</div>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.13/vue.min.js"></script>
<script type="text/javascript" src="./dist/vue-ip.min.js"></script>
<script type="text/javascript">
    new Vue({
        el: '#app',
        components: {
            VueIp
        },
        data: function () {
            return {
                ip: '127.0.0.1',
                port: '8888',
                valid: false
            };
        },
        methods: {

            /**
             * Generate random number
             */
            random(min = 1, max = 270) {
                return Math.floor(Math.random() * max) + min;
            },

            /**
             * Triggers on change
             */
            ipChange(ip, port, valid) {
                this.ip = ip;
                this.port = port;
                this.valid = valid;
            },

            /**
             * Trigger a random ip and port change
             */
            changeIp() {
                this.ip = this.random() + '.' + this.random() + '.' + this.random() + '.' + this.random();
                this.port = '' + this.random(1, 9) + this.random(1, 9) + this.random(1, 9) + this.random(1, 9);
            }

        }
    });
</script>
</body>
</html>
